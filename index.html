<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>初元 - 郁离的个人小站</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@300;400;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@300;400;700&display=swap"></noscript>
    
    <style>
        /* --- [首页] V28.4 - 无缝循环星空最终版 --- */
        /* 优化重点:
         * 1. [效果] 使用CSS伪元素实现无缝、无限循环的滚动星空。
         * 2. [性能] 纯CSS实现，0性能开销。
         * 3. [LCP] 保持H1动画的优化。
        */
        :root{--font-serif:"Noto Serif SC",serif;--font-cursive:"Ma Shan Zheng",cursive;--bg-color:#121117;--text-color:rgba(230,230,240,.9);--title-color:#e0c9a8;--highlight-color:#c8b08f;--glass-bg:rgba(22,21,28,.7);--glass-bg-scrolled:rgba(22,21,28,.85);--border-color:rgba(255,255,255,.1);--shadow-color:rgba(0,0,0,.4);--glow-color:rgba(224,201,168,.25)}
        *{margin:0;padding:0;box-sizing:border-box}
        html{scroll-behavior:smooth}
        body{background-color:var(--bg-color);color:var(--text-color);font-family:var(--font-serif);font-weight:300;line-height:1.8;overflow-x:hidden;cursor:auto}
        body.no-scroll{overflow:hidden}
        .background-layers{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-2;background-color:var(--bg-color);overflow:hidden}
        .aurora-bg{width:100%;height:100%;position:absolute}
        .aurora-bg::before,.aurora-bg::after{content:'';position:absolute;top:50%;left:50%;width:150vmax;height:150vmax;background-image:radial-gradient(circle at center,rgba(60,100,200,.15) 0,transparent 60%);border-radius:50%;animation:aurora-move 30s infinite linear}
        .aurora-bg::after{background-image:radial-gradient(circle at center,rgba(147,112,219,.1) 0,transparent 60%);animation-duration:40s}
        @keyframes aurora-move{from{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(360deg)}}
        
        /* --- [最终方案] CSS无缝循环星空 --- */
        @keyframes move-stars{from{transform:translateY(0)}to{transform:translateY(-100vh)}}
        
        .stars{position:absolute;top:0;left:0;width:1px;height:1px;background:transparent;animation:move-stars linear infinite}
        .stars::after{content:"";position:absolute;top:100vh;width:1px;height:1px;background:transparent}

        .stars-sm{
            --star-shadows: 56vw 74vh #fff,8vw 8vh #fff,65vw 3vh #fff,9vw 3vh #fff,53vw 9vh #fff,2vw 4vh #fff,8vw 27vh #fff,43vw 95vh #fff,2vw 61vh #fff,39vw 17vh #fff,59vw 73vh #fff,9vw 9vh #fff,6vw 10vh #fff,4vw 35vh #fff,59vw 4vh #fff,44vw 63vh #fff,28vw 53vh #fff,3vw 41vh #fff,12vw 82vh #fff,84vw 1vh #fff,51vw 86vh #fff,86vw 3vh #fff,26vw 14vh #fff,15vw 91vh #fff,7vw 78vh #fff,40vw 16vh #fff,92vw 36vh #fff,4vw 2vh #fff,63vw 22vh #fff,8vw 68vh #fff,52vw 74vh #fff,44vw 96vh #fff,27vw 58vh #fff,13vw 92vh #fff,98vw 19vh #fff,8vw 17vh #fff,2vw 95vh #fff,5vw 26vh #fff,79vw 6vh #fff,68vw 80vh #fff;
            animation-duration:150s;
            box-shadow:var(--star-shadows)
        }
        .stars-sm::after{box-shadow:var(--star-shadows)}

        .stars-md{
            --star-shadows: 7vw 3vh #fff,4vw 1vh #fff,26vw 7vh #fff,7vw 3vh #fff,4vw 6vh #fff,4vw 9vh #fff,3vw 1vh #fff,4vw 3vh #fff,3vw 7vh #fff,1vw 2vh #fff,2vw 5vh #fff,5vw 2vh #fff,1vw 7vh #fff,7vw 9vh #fff,6vw 4vh #fff,8vw 1vh #fff,9vw 9vh #fff,5vw 1vh #fff,2vw 3vh #fff,1vw 4vh #fff,5vw 7vh #fff,2vw 1vh #fff,9vw 3vh #fff,8vw 6vh #fff,3vw 7vh #fff,8vw 5vh #fff,3vw 6vh #fff,1vw 6vh #fff,8vw 4vh #fff,7vw 8vh #fff;
            animation-duration:100s;
            box-shadow:var(--star-shadows)
        }
        .stars-md::after{box-shadow:var(--star-shadows)}

        .stars-lg{
            --star-shadows: 5vw 15vh #fff,17vw 8vh #fff,11vw 22vh #fff,25vw 3vh #fff,13vw 28vh #fff,23vw 21vh #fff,29vw 19vh #fff,11vw 3vh #fff,28vw 17vh #fff,26vw 2vh #fff,18vw 22vh #fff,2vw 20vh #fff,20vw 12vh #fff,20vw 10vh #fff,26vw 10vh #fff,12vw 29vh #fff,16vw 1vh #fff,26vw 21vh #fff,22vw 30vh #fff,11vw 19vh #fff;
            animation-duration:50s;
            box-shadow:var(--star-shadows)
        }
        .stars-lg::after{box-shadow:var(--star-shadows)}

        @media (prefers-reduced-motion:reduce){.aurora-bg::before,.aurora-bg::after,.stars,*,*::before,*::after{animation:none!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}
        @keyframes fadeIn{from{opacity:0}to{opacity:1}}
        header{position:fixed;top:0;width:100%;padding:30px 5%;z-index:100;animation:fadeIn 1s 1.8s both}
        .header-content{display:flex;justify-content:space-between;align-items:center;width:100%;max-width:1500px;margin:0 auto;padding:15px 30px;background:var(--glass-bg);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border:1px solid var(--border-color);border-radius:12px;transition:background-color .4s ease,border-color .4s ease}
        header.scrolled .header-content{background:var(--glass-bg-scrolled);border-color:rgba(255,255,255,.15)}
        .logo{font-family:var(--font-cursive);font-size:2.2rem;color:var(--title-color);text-decoration:none}
        nav.main-nav{display:flex;gap:40px}
        nav.main-nav a{position:relative;font-size:1rem;color:var(--text-color);text-decoration:none;opacity:.8;transition:all .3s ease;padding-bottom:5px}
        nav.main-nav a::after{content:'';position:absolute;left:0;bottom:0;width:100%;height:1px;background:var(--highlight-color);transform:scaleX(0);transform-origin:right;transition:transform .4s cubic-bezier(.16,1,.3,1)}
        nav.main-nav a:hover{color:#fff;opacity:1;text-shadow:0 0 8px rgba(255,255,255,.5)}
        nav.main-nav a:hover::after{transform:scaleX(1);transform-origin:left}
        .hero-section{display:flex;align-items:center;justify-content:center;height:100vh;min-height:700px;padding:0 8%;width:100%}
        .hero-text-content{text-align:center;max-width:800px}

        .hero-title{font-family:var(--font-cursive);font-size:clamp(4rem,10vw,7.5rem);font-weight:400;color:#fff;line-height:1.15;opacity:0;transform:translateY(30px);animation:fadeInUp-h1 1.2s cubic-bezier(0.16,1,.3,1) .1s forwards}
        @keyframes fadeInUp-h1{to{opacity:1;transform:translateY(0)}}

        .hero-subtitle{font-size:clamp(1rem,2vw,1.2rem);color:var(--text-color);margin-top:2.5rem;letter-spacing:5px;font-weight:300;opacity:0;animation:fadeIn 1.2s 1.5s both}
        .scroll-mouse{position:absolute;bottom:5vh;left:50%;transform:translateX(-50%);opacity:0;animation:fadeIn 1s 2.2s both;cursor:pointer}
        .scroll-mouse,.scroll-mouse .wheel{width:28px;height:48px;border:2px solid rgba(224,201,168,.7);border-radius:20px}
        .scroll-mouse .wheel{position:absolute;top:8px;left:50%;width:4px;height:10px;background:rgba(224,201,168,.7);border-radius:2px;margin-left:-2px;animation:scroll-wheel 2.2s cubic-bezier(.165,.84,.44,1) infinite}
        @keyframes scroll-wheel{0%{transform:translateY(0);opacity:1}100%{transform:translateY(24px);opacity:0}}
        .page-content{background:var(--bg-color);position:relative;z-index:1}
        .content-wrapper{max-width:1000px;margin:0 auto;padding:15vh 20px}
        #search-section{opacity:0;animation:fadeInUp 1s cubic-bezier(.16,1,.3,1) forwards}
        @keyframes fadeInUp{from{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}
        .search-container{position:relative}
        #search-box{width:100%;padding:22px 65px 22px 30px;font-size:1.2rem;border-radius:12px;border:1px solid var(--border-color);background-color:var(--glass-bg);color:#fff;backdrop-filter:blur(10px);transition:all .4s ease;box-shadow:0 10px 40px var(--shadow-color)}
        #search-box:focus{outline:none;border-color:var(--highlight-color);box-shadow:0 0 30px rgba(224,201,168,.2);transform:scale(1.02);transition:all .4s ease}
        .search-icon{position:absolute;right:30px;top:50%;transform:translateY(-50%);color:var(--text-color);opacity:.6;width:1.5rem;height:1.5rem;pointer-events:none}
        #search-results{position:absolute;width:100%;margin-top:1rem;padding:1rem;background:var(--glass-bg);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border:1px solid var(--border-color);border-radius:12px;max-height:50vh;overflow-y:auto;z-index:110}
        .result-item{display:block;padding:.8rem 1.2rem;border-radius:8px;cursor:pointer;transition:background-color .2s ease;text-decoration:none;color:var(--text-color)}
        .result-item.active,.result-item:hover{background-color:rgba(255,255,255,.1)}
        .result-item .title{font-size:1.1rem;font-weight:400;color:#fff}
        .result-item .author{font-size:.9rem;opacity:.6}
        .result-item .highlight{color:var(--highlight-text);font-weight:700;background-color:rgba(253,216,165,.1)}
        .divider{width:120px;height:1px;background:var(--border-color);margin:8rem auto;position:relative}
        .divider::before{content:'◇';font-size:1.2rem;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:var(--title-color);background:var(--bg-color);padding:0 15px}
        .featured-section{margin-top:0;scroll-margin-top:120px}
        .section-title{font-family:var(--font-cursive);font-size:3.2rem;color:var(--title-color);text-align:center;margin-bottom:4rem}
        .article-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:3rem}
        .article-card{background:var(--glass-bg);border:1px solid var(--border-color);border-radius:12px;padding:2.5rem;position:relative;text-decoration:none;color:var(--text-color);display:flex;flex-direction:column;box-shadow:0 8px 25px var(--shadow-color);transition:transform .3s ease,border-color .3s ease,box-shadow .3s ease}
        .article-card:hover{transform:translateY(-10px);border-color:var(--highlight-color);box-shadow:0 15px 35px rgba(0,0,0,.5),0 0 20px var(--glow-color)}
        .article-card h3{font-weight:700;font-size:1.6rem;color:#fff;margin-bottom:.5rem}
        .article-card .author{font-size:1rem;opacity:.6;margin-bottom:1.5rem}
        .article-card p{font-size:1.05rem;line-height:1.9;opacity:.8;flex-grow:1}
        .article-card .read-more{margin-top:2rem;font-weight:400;font-size:1.1rem;color:var(--title-color)}
        .page-footer{padding:6rem 2rem;text-align:center;font-size:.9rem;color:rgba(255,255,255,.4);border-top:1px solid var(--border-color);margin-top:10vh}
        .menu-toggle{display:none;width:30px;height:22px;position:relative;cursor:pointer;z-index:151;background:none;border:none}
        .menu-toggle span{display:block;position:absolute;height:2px;width:100%;background:var(--text-color);border-radius:2px;opacity:1;left:0;transition:all .3s ease-in-out}
        .menu-toggle span:nth-child(1){top:0}
        .menu-toggle span:nth-child(2){top:10px}
        .menu-toggle span:nth-child(3){top:20px}
        .menu-toggle.is-active span:nth-child(1){top:10px;transform:rotate(135deg)}
        .menu-toggle.is-active span:nth-child(2){opacity:0;transform:translateX(-20px)}
        .menu-toggle.is-active span:nth-child(3){top:10px;transform:rotate(-135deg)}
        .mobile-nav{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(12,11,16,.95);backdrop-filter:blur(20px);z-index:150;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:2rem;opacity:0;visibility:hidden;transition:opacity .4s ease,visibility .4s}
        .mobile-nav.is-open{opacity:1;visibility:visible}
        .mobile-nav a{font-size:2rem;color:var(--text-color);text-decoration:none;opacity:.8;transition:all .3s ease;transform:translateY(20px)}
        .mobile-nav.is-open a{transform:translateY(0)}
        .mobile-nav a:nth-child(1){transition-delay:.2s}
        .mobile-nav a:nth-child(2){transition-delay:.3s}
        .mobile-nav a:hover{color:#fff;opacity:1}
        @media(max-width:768px){nav.main-nav{display:none}.menu-toggle{display:block}.header-content{padding:10px 20px}.hero-section{align-items:center;justify-content:center;text-align:center;padding:20vh 6% 0}.hero-title{font-size:clamp(3rem,12vw,4.5rem)}.hero-subtitle{letter-spacing:3px}.scroll-mouse{left:50%;transform:translateX(-50%)}.content-wrapper{padding:10vh 15px}.article-card{padding:2rem}.search-box{padding:18px 55px 18px 25px;font-size:1rem}.search-icon{right:25px}}
    </style>
    
    <script defer>
        // Star animation is now 100% in CSS, no JS needed.
        // All other JS functionality remains.
        document.addEventListener('DOMContentLoaded', () => {
            const header = document.querySelector('header');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) { header.classList.add('scrolled'); } 
                else { header.classList.remove('scrolled'); }
            });

            const menuToggle = document.getElementById('menu-toggle');
            const mobileNav = document.getElementById('mobile-nav');
            if(menuToggle && mobileNav) {
                menuToggle.addEventListener('click', () => {
                    menuToggle.classList.toggle('is-active');
                    mobileNav.classList.toggle('is-open');
                    document.body.classList.toggle('no-scroll');
                });
                mobileNav.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', () => {
                        menuToggle.classList.remove('is-active');
                        mobileNav.classList.remove('is-open');
                        document.body.classList.remove('no-scroll');
                    });
                });
            }

            const sitePages = [
                { id: 'chenqingbiao', title: '陈情表', author: '[晋] 李密', url: 'chenqingbiao.html', description: '被誉为“千古第一表”，以其至诚至孝的情感，成为中国古代抒情散文的典范之作。', keywords: 'chenqingbiao 陈情表 李密 limi 晋 孝 奏表' },
                { id: 'xiangjixuanzhi', title: '项脊轩志', author: '[明] 归有光', url: 'xiangjixuanzhi.html', description: '明代散文的典范，以一座小小书斋为线索，串联起家族的衰落与人事的变迁，文末的枇杷树更是点睛之笔。', keywords: 'xiangjixuanzhi 项脊轩志 归有光 guiyouguang 明 散文 枇杷树' },
                { id: 'placeholder1', title: '待填之作', author: '[朝代] 作者', url: '#', description: '此处为预留卡片，用于展示未来的新文章。您可以根据模板添加更多精彩内容。', keywords: '示例 placeholder' }
            ];
            
            const articleGrid = document.getElementById('article-grid');
            if (articleGrid) {
                const pagesToDisplay = sitePages.filter(page => page.id !== 'placeholder1');
                pagesToDisplay.forEach((page, index) => {
                    const card = document.createElement('a');
                    card.href = page.url;
                    card.className = 'article-card animated-item';
                    card.style.animationDelay = `${index * 100 + 200}ms`;
                    card.innerHTML = `<h3>${page.title}</h3><div class="author">${page.author}</div><p>${page.description}</p><div class="read-more">阅读全文 →</div>`;
                    articleGrid.appendChild(card);
                });
            }

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1, rootMargin: '0px 0px -80px 0px' });
            document.querySelectorAll('.animated-item, #search-section').forEach(el => observer.observe(el));

            const searchBox = document.getElementById('search-box');
            const searchResultsContainer = document.getElementById('search-results');
            let activeIndex = -1;
            function highlightText(text, query) { if (!query) return text; const regex = new RegExp(`(${query})`, 'gi'); return text.replace(regex, '<span class="highlight">$1</span>'); }
            function displayResults(query) {
                const lowerCaseQuery = query.toLowerCase();
                const results = sitePages.filter(page => page.id !== 'placeholder1' && (page.title.toLowerCase().includes(lowerCaseQuery) || page.author.toLowerCase().includes(lowerCaseQuery) || page.keywords.toLowerCase().includes(lowerCaseQuery)));
                searchResultsContainer.style.display = results.length > 0 ? 'block' : 'none';
                if (results.length > 0) { searchResultsContainer.innerHTML = results.map(page => `<a href="${page.url}" class="result-item"><div class="title">${highlightText(page.title, query)}</div><div class="author">${highlightText(page.author, query)}</div></a>`).join(''); }
                activeIndex = -1;
            }
            function updateActiveItem() { const items = searchResultsContainer.querySelectorAll('.result-item'); items.forEach((item, index) => { item.classList.toggle('active', index === activeIndex); }); }
            function debounce(func, delay) {
                let timeout;
                return function(...args) {
                    clearTimeout(timeout);
                    timeout = setTimeout(() => func.apply(this, args), delay);
                };
            }

            function handleSearch() {
                const query = searchBox.value.trim();
                if (query) {
                    displayResults(query);
                } else {
                    searchResultsContainer.style.display = 'none';
                }
            }

            searchBox.addEventListener('input', debounce(handleSearch, 300));
            
            searchBox.addEventListener('keydown', (e) => {
                const items = searchResultsContainer.querySelectorAll('.result-item'); if (!items.length) return;
                if (e.key === 'ArrowDown') { e.preventDefault(); activeIndex = (activeIndex + 1) % items.length; updateActiveItem(); } 
                else if (e.key === 'ArrowUp') { e.preventDefault(); activeIndex = (activeIndex - 1 + items.length) % items.length; updateActiveItem(); } 
                else if (e.key === 'Enter') { e.preventDefault(); if (activeIndex > -1) { items[activeIndex].click(); } }
            });
            searchBox.addEventListener('blur', () => { setTimeout(() => { searchResultsContainer.style.display = 'none'; }, 150); });
            searchBox.addEventListener('focus', () => { if(searchBox.value.trim()){ displayResults(searchBox.value.trim()); } });
            document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { searchResultsContainer.style.display = 'none'; searchBox.blur(); } });
        });
    </script>
</head>
<body>
    <div class="background-layers">
        <div class="aurora-bg"></div>
        <!-- 最终的、高性能、无缝循环的星空 -->
        <div class="stars stars-sm"></div>
        <div class="stars stars-md"></div>
        <div class="stars stars-lg"></div>
    </div>
    
    <nav id="mobile-nav" class="mobile-nav">
        <a href="#">说说空间</a>
        <a href="#featured-content">古诗总页</a>
    </nav>

    <div id="page-wrapper">
        <header>
            <div class="header-content">
                <a href="index.html" class="logo">初元</a>
                <nav class="main-nav">
                    <a href="#">说说空间</a>
                    <a href="#featured-content">古诗总页</a>
                </nav>
                <button id="menu-toggle" class="menu-toggle" aria-label="打开菜单">
                    <span></span><span></span><span></span>
                </button>
            </div>
        </header>

        <main>
            <section class="hero-section">
                <div class="hero-text-content">
                    <h1 class="hero-title">郁离的个人小站</h1>
                    <p class="hero-subtitle">沉淀 · 分享 · 求索</p>
                </div>
                 <a class="scroll-mouse" href="#page-content" aria-label="滚动到主要内容区域">
                    <span class="wheel"></span>
                </a>
            </section>
            
            <div id="page-content" class="page-content">
                <div class="content-wrapper">
                    
                    <div id="search-section">
                        <div class="search-container">
                            <input type="search" id="search-box" placeholder="于星海间，寻一篇诗文" autocomplete="off">
                            <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208z"/></svg>
                             <div id="search-results" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="divider animated-item"></div>

                    <section id="featured-content" class="featured-section">
                        <h2 class="section-title animated-item">文海拾贝</h2>
                        <div id="article-grid" class="article-grid">
                            <!-- 卡片将由JS在此生成 -->
                        </div>
                    </section>
                </div>

                <footer class="page-footer">
                    &copy; 2024 初元. 保留所有权利.
                </footer>
            </div>
        </main>
    </div>
</body>
</html>